<html>
<head>
  <script src="moonstuff.js" type="text/javascript"></script>
</head>

<body>
  <pre><script>

    function encodeDate(d, m, y) {
      return encodeDay(d) + encodeMonth(m) + encodeYear(y) + "";
    }

    function encodeDay(d) {
      if (d >= 10) {
        return String.fromCharCode(97 + (d - 10));
      } else {
        return d + "";
      }
    }

    function encodeMonth(m) {
      if (m >= 10) {
        return String.fromCharCode(119 + (m - 10));
      } else {
        return m + "";
      }
    }

    function encodeYear(y) {
      return String.fromCharCode(65 + (y - 2015));
    }

    function getNextDate() {
      var nextdatetime = Date.UTC(next.yy, next.mm - 1, next.dd, next.hr, next.min, next.sec);
      date = new Date(nextdatetime + 48 * 3600 * 1000);
      return new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);
    }

    var endDate = new Date(2045, 12 - 1, 31, 23, 59, 59);
    var startDate = new Date(2025, 4 - 1, 28, 0, 0, 0);
    var date = startDate;

    document.writeln("FullMoon:");
    do {
      calcFullMoonPhase({ yy: date.getFullYear(), mm: date.getMonth() + 1, dd: date.getDate(), hr: 0, min: 0, sec: 0 });
      document.write(encodeDate(next.dd, next.mm, next.yy));
      date = getNextDate(date);
    } while (date < endDate);
    document.writeln("");

    date = startDate;

    document.writeln("NewMoon:");
    do {
      calcNewMoonPhase({ yy: date.getFullYear(), mm: date.getMonth() + 1, dd: date.getDate(), hr: 0, min: 0, sec: 0 });
      document.write(encodeDate(next.dd, next.mm, next.yy));
      date = getNextDate(date);
    } while (date < endDate);

    document.writeln("");

  </script></pre>
</body>

</html>